{% extends "base.html" %}

{% block content %}

 <!--Librerias anexadasca -->
<script type="text/javascript">
    $(function () {

      $.getJSON('http://www.highcharts.com/samples/data/jsonp.php?filename=world-population-density.json&callback=?', 
       function (data) {
        // Add lower case codes to the data set for inclusion in the tooltip.pointFormat
        // agrgar caso e odigo de data e icluye en el tooltip.point
        $.each(data, function () {
            this.flag = this.code.replace('UK', 'GB').toLowerCase();
        });

        $('#container').highcharts('Map', {
            title: {
                text: 'Paises con Fraude'
            },

            legend: {
                title: {
                    text: 'Nivel de Fraude %',
                    style: {
                        color: (Highcharts.theme && Highcharts.theme.textColor) || 'black'
                    }
                }
            },

            mapNavigation: {
                enabled: true,
                buttonOptions: {
                    verticalAlign: 'bottom'
                }
            },

            tooltip: {
                backgroundColor: 'none',
                borderWidth: 0,
                shadow: false,
                useHTML: true,
                padding: 0,
                pointFormat: '<span class="f32"><span class="flag {point.flag}"></span></span>'
                    + ' {point.name}: <b>{point.value}</b>/%fraude',
                positioner: function () {
                    return { x: 0, y: 250 };
                }
            },

            colorAxis: {
                min: 1,
                max: 1000,
                minColor: '#F5A9A9',
                maxColor: '#FF0000',
                type: 'logarithmic'
            },

            series : [{
                data : data,
                mapData: Highcharts.maps['custom/world'],
                joinBy: ['iso-a2', 'code'],
                name: 'Population density',
                states: {
                    hover: {
                        color: '#5858FA'
                    }
                }
            }]
        });
    });
});
</script>
<style type="text/css">
    #container {
      height: 500px; 
      width: 800px; 
      margin: 0 auto; 
    }   
    .highcharts-tooltip>span {
      padding: 10px;
      white-space: normal !important;
      width: 200px;
    }   
    .loading {
        margin-top: 10em;
        text-align: center;
        color: gray;
    }   
    .f32 .flag {
        vertical-align: middle !important;
    }
</style>

   <!-- main page content. the place to put widgets in. usually consists of .row > .col-md-* > .widget.  -->
   
     {% verbatim %}


    <main id="content" class="content" role="main">
     <div ng-controller="paisesList">

        <h1 class="page-title">PAÍS <small><small> {{ selected.Descripcion }}</small></small></h1>
        <div class="row">
            <div class="col-md-8">
               <section class="widget">
                       <div id="demo-wrapper">
                           <div id="mapBox">
                               <div id="container"></div> 
                           </div>
                       </div>
               </section>
            </div>
            <div class="col-md-4">
                <section class="widget bg-transparent">
                    <header>
                        <h4>
                            Map
                            <span class="fw-semi-bold">Estadistca</span>
                        </h4>
                        <div class="widget-controls widget-controls-hover">
                            <a href="#"><i class="glyphicon glyphicon-cog"></i></a>
                            <a href="#"><i class="fa fa-refresh"></i></a>
                            <a href="#" data-widgster="close"><i class="glyphicon glyphicon-remove"></i></a>
                        </div>
                    </header>
                    <div class="widget-body">
                        <p>Estado: <strong>...</strong></p>
                        <p>
                            <span class="circle bg-warning"><i class="fa fa-map-marker"></i></span>
                            253 Paises registrados
                        </p>
                        <div class="row progress-stats">
                            <div class="col-sm-9">
                                <h5 class="name">Minutos</h5>
                                <p class="description deemphasize">Min  {{ selected.Dia_minutos }} </p>
                                <div class="progress progress-sm js-progress-animate bg-white">
                                    <div class="progress-bar" role="progressbar" aria-valuenow="60" aria-valuemin="0"
                                         data-width="10%"
                                         aria-valuemax="100" style="width: 0;">
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-3 text-align-center">
                                <span class="status rounded rounded-lg bg-body-light">
                                    <small><span id="percent-1"> {{ selected.Dia_llamadas }}</span>%</small>
                                </span>
                            </div>
                        </div>
                        <div class="row progress-stats">
                            <div class="col-sm-9">
                                <h5 class="name">%AVG</h5>

                                <p class="description deemphasize">AVG   {{ selected.Dia_llamadas }}</p>
                                <div class="progress progress-sm js-progress-animate bg-white">
                                    <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="39"
                                         data-width="39%"
                                         aria-valuemin="0" aria-valuemax="100" style="width: 0;">
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-3 text-align-center">
                                <span class="status rounded rounded-lg bg-body-light">
                                    <small><span  id="percent-2">{{ selected.Avg_xda_llamadas}}</span>%</small>
                                </span>
                            </div>

                        </div>
                  
                    <!-- -->
                   
                        <div class="row progress-stats">
                            <div class="col-sm-9">
                                <h5 class="name">LLamadas</h5>
                                <p class="description deemphasize">LLam  {{ selected.Avg_xda_llamadas }}</p>

                                <div class="progress progress-sm js-progress-animate bg-white">
                                    <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="20"
                                         data-width="{{names.length}}%"
                                         aria-valuemin="0" aria-valuemax="100" style="width: 0;">
                                    </div>
                                </div>
                      
                            <div class="col-sm-3 text-align-center">
                                <span class="status rounded rounded-lg bg-body-light">
                                    <small><span id="percent-3">92</span>%</small>
                                </span>
                            </div>
                        </div>
                        <h5 class="fw-semi-bold mt">Map Distributions</h5>
                        <p>Tracking: <strong>Active</strong></p>
                        <p>


                            <span class="circle bg-warning"><i class="fa fa-cog"></i></span>
                            TOTAL PAISES:  <strong >{{names.length}}</strong>  ,  FECHA DE DATA: <strong > {{ selected.Fec_riesgo }}  </strong>
                        </p>
         
                        
                            <div class="input-group mt">
                                <select ng-model="selected"  ng-options="apo.Descripcion for apo in names | orderBy: 'Descripcion'" >   </select>
                               <span class="input-group-btn">
                                    <button type="submit" class="btn btn-default">
                                        <i class="fa fa-search text-gray"></i>
                                    </button>
                                </span>
                       
                        </div>

                 
                    <!-- Codigo en blanco -->
                    </div>
                </section>
            </div>
        </div>
        <div class="row">
            <div class="col-md-4">
                <section class="widget">
                    <!-- .widget>header is generally a place for widget title and widget controls. see .widget in _base.scss -->
                    <header>
                        <h5>
                            Ratio Umbral
                        </h5>
                        <div class="widget-controls">
                            <a href="#"><i class="glyphicon glyphicon-cog"></i></a>
                            <a href="#" data-widgster="close"><i class="glyphicon glyphicon-remove"></i></a>
                        </div>
                    </header>
                    <div class="widget-body">
                        <div class="stats-row">
                            <div class="stat-item">
                                <h6 class="name">Trafico Día</h6>

                                <p class="value">{{ selected.Dia_minutos}}</p>

                            </div>
                            <div class="stat-item">
                                <h6 class="name">Ratio Umbral</h6>

                                <p class="value">{{ selected.Ind_umb_minutos }}%</p>

                            </div>
                        </div>
                        <div class="progress progress-xs">
                            <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="60"
                                 aria-valuemin="0" aria-valuemax="100" style="width: 80%;">
                            </div>
                        </div>
                        <p>
                            <small><span class="circle bg-warning"><i class="glyphicon glyphicon-chevron-up"></i></span></small>
                            <span class="fw-semi-bold">{{ selected.Ind_umb_minutos }}% mas alto</span>
                            respecto al día</p>
                    </div>
                </section>
            </div>
            <div class="col-md-4">
                <section class="widget">
                    <header>
                        <h5>
                            Ratio Ayer
                        </h5>
                        <div class="widget-controls">
                            <a href="#"><i class="glyphicon glyphicon-cog"></i></a>
                            <a href="#" data-widgster="close"><i class="glyphicon glyphicon-remove"></i></a>
                        </div>
                    </header>
                    <div class="widget-body">
                        <div class="stats-row">

                            <div class="stat-item">
                                <h6 class="name">Trafico Ayer</h6>
                                <p class="value">{{ selected.Aye_minutos }}  </p>
                            </div>
                            <div class="stat-item">
                                <h6 class="name">Ratio Ayer</h6>
                                <p class="value">{{ selected.Ind_umb_llamadas}}%</p>
                            </div>
                        </div>
                        <div class="progress progress-xs">
                            <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="60"
                                 aria-valuemin="0" aria-valuemax="100" style="width: 80%;">
                            </div>
                        </div>
                        <p>
                            <small><span class="circle bg-warning"><i class="fa fa-chevron-down"></i></span></small>
                            <span class="fw-semi-bold">{{ selected.Ind_umb_llamadas}}%</span>
                           respecto ayer
                        </p>
                    </div>
                </section>
            </div>
            <div class="col-md-4">
                <section class="widget">
                    <header>
                        <h5>
                            Ratio Dias Anteriores
                        </h5>
                        <div class="widget-controls">
                            <a href="#"><i class="glyphicon glyphicon-cog"></i></a>
                            <a href="#" data-widgster="close"><i class="glyphicon glyphicon-remove"></i></a>
                        </div>
                    </header>
                    <div class="widget-body">
                        <div class="stats-row">

                            <div class="stat-item">
                                <h6 class="name">Prom. Dias Anter.</h6>
                                <p class="value">{{ selected.Avg_xda_llamadas }}</p>
                            </div>
                            <div class="stat-item">
                                <h6 class="name">Ratios Dias Anter.</h6>
                                <p class="value">{{ selected.Ind_aye_llamadas }}%</p>
                            </div>
                        </div>
                        <div class="progress progress-xs">
                            <div class="progress-bar" role="progressbar" aria-valuenow="60"
                                 aria-valuemin="0" aria-valuemax="100" style="width: 80%;">
                            </div>
                        </div>
                        <p>
                            <small><span class="circle bg-warning"><i class="fa fa-plus"></i></span></small>
                            <span class="fw-semi-bold">{{ selected.Ind_aye_llamadas }}%  alto</span>
                            respecto al Prom. dias. Anter.
                        </p>
                    </div>
                </section>
            </div>
            <div class="col-md-4">
                <section class="widget">
                    <header>
                        <h5>
                            Ratio dias Similares
                        </h5>
                        <div class="widget-controls">
                            <a href="#"><i class="glyphicon glyphicon-cog"></i></a>
                            <a href="#" data-widgster="close"><i class="glyphicon glyphicon-remove"></i></a>
                        </div>
                    </header>
                    <div class="widget-body">
                        <div class="stats-row">

                            <div class="stat-item">
                                <h6 class="name">Prom. Dias Similares</h6>
                                <p class="value">{{ selected.Avg_xdp_llamadas }}</p>
                            </div>
                            <div class="stat-item">
                                <h6 class="name">Ratio. Dias Similares</h6>
                                <p class="value">{{ selected.Ind_avg_xda_llamadas }}%</p>
                            </div>
                        </div>
                        <div class="progress progress-xs">
                            <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="60"
                                 aria-valuemin="0" aria-valuemax="100" style="width: 80%;">
                            </div>
                        </div>
                        <p>
                            <small><span class="circle bg-warning"><i class="fa fa-chevron-down"></i></span></small>
                            <span class="fw-semi-bold">{{ selected.Ind_avg_xda_llamadas }}%  bajo</span>
                            respecto a Prom. Dias Similares.
                        </p>
                    </div>
                </section>
            </div>
            <div class="col-md-4">
                <section class="widget">
                    <header>
                        <h5>
                            Indicadores  desv. dias
                        </h5>
                        <div class="widget-controls">
                            <a href="#"><i class="glyphicon glyphicon-cog"></i></a>
                            <a href="#" data-widgster="close"><i class="glyphicon glyphicon-remove"></i></a>
                        </div>
                    </header>
                    <div class="widget-body">
                        <div class="stats-row">

                            <div class="stat-item">
                                <h6 class="name">Desv. Dias Anteriores</h6>
                                <p class="value">{{ selected.Dst_xda_llamadas }}</p>
                            </div>
                            <div class="stat-item">
                                <h6 class="name">Ind. Desv. Dias</h6>
                                <p class="value">{{ selected.Ind_avg_xda_llamadas }}%</p>
                            </div>
                        </div>
                        <div class="progress progress-xs">
                            <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="60"
                                 aria-valuemin="0" aria-valuemax="100" style="width: 80%;">
                            </div>
                        </div>
                        <p>
                            <small><span class="circle bg-warning"><i class="fa fa-chevron-down"></i></span></small>
                            <span class="fw-semi-bold">{{ selected.Ind_avg_xda_llamadas }}%  bajo</span>
                            respecto a Desv. Dias Anteriores
                        </p>
                    </div>
                </section>
            </div>



            <div class="col-md-4">
                <section class="widget">
                    <header>
                        <h5>Dispersión Carrier Origen</h5>
                        <div class="widget-controls">
                            <a href="#"><i class="glyphicon glyphicon-cog"></i></a>
                            <a href="#" data-widgster="close"><i class="glyphicon glyphicon-remove"></i></a>
                        </div>
                    </header>
                    <div class="widget-body no-padding">
                        <div id="events-calendar" class="bg-primary-light"></div>
                        <div class="list-group fs-mini">
                            <a href="#" class="list-group-item text-ellipsis">
                               <strong> <span >54.0 m :</span></strong>
                               205/ECU90-OTECEL, S.A.- MOVIST 
                            </a>
                            <a href="#" class="list-group-item text-ellipsis">
                                <strong><span >12.4 m : </span></strong>
                                205/CHL03-CTC-MUNDO 
                            </a>
                            <a href="#" class="list-group-item text-ellipsis">
                                <strong><span >2.2 m :</span></strong>
                                205/PER01-TELEFONICA DEL PERU 
                            </a>
                        </div>
                    </div>
                </section>
            </div>
        </div>
        <div class="row">
            <div class="col-md-4">
                <section class="widget">
                    <header>
                        <h5><span class="label label-danger">Datos</span> historicos</h5>
                        <div class="widget-controls">
                            <a href="#"><i class="fa fa-refresh"></i></a>
                            <a href="#" data-widgster="close"><i class="glyphicon glyphicon-remove"></i></a>
                        </div>
                    </header>
                    <div class="widget-body no-padding">
                        <div class="list-group list-group-lg">
                            <a class="list-group-item" href="#">
                                <span class="thumb-sm pull-left mr">
                                    <img class="img-circle" src="demo/img/people/a2.jpg" alt="...">
                                    <i class="status status-bottom bg-success"></i>
                                </span>
                                <h5 class="no-margin">{{ selected.Where_coho }}</h5>
                                <p class="help-block text-ellipsis no-margin">{{ selected.Where_codi }}</p>
                            </a>
                            <a class="list-group-item" href="#">
                                <span class="thumb-sm pull-left mr">
                                    <img class="img-circle" src="demo/img/people/a4.jpg" alt="...">
                                    <i class="status status-bottom bg-success"></i>
                                </span>
                                <h5 class="no-margin"> {{ selected.Where_tasa}} </h5>
                                <p class="help-block text-ellipsis no-margin"> {{ selected.Distinto_fonoa}}</p>
                            </a>
                            <a class="list-group-item" href="#">
                                <span class="thumb-sm pull-left mr">
                                    <img class="img-circle" src="demo/img/people/a1.jpg" alt="...">
                                    <i class="status status-bottom bg-warning"></i>
                                </span>
                                <h5 class="no-margin">{{ selected.Distinto_fonob }}</h5>
                                <p class="help-block text-ellipsis no-margin">{{ selected.Ind_avg_hoy_llamadas}} </p>
                            </a>
                            <a class="list-group-item" href="#">
                                <span class="thumb-sm pull-left mr">
                                    <img class="img-circle" src="demo/img/people/a5.jpg" alt="...">
                                    <i class="status status-bottom bg-danger"></i>
                                </span>
                                <h5 class="no-margin">{{ selected.Ind_avg_hoy_minutos }}</h5>
                                <p class="help-block text-ellipsis no-margin">{{ selected.Distinto_fonoa}}}</p>
                            </a>
                        </div>
                    </div>
                    <footer class="bg-body-light mt">
                        <input type="search" class="form-control input-sm" placeholder="Buscar">
                    </footer>
                </section>
            </div>
            <div class="col-md-4">
                <section class="widget">
                    <header>
                        <h5>
                            Observaciones <span class="fw-semi-bold"></span>
                        </h5>
                        <div class="widget-controls">
                            <a href="#" data-widgster="close"><i class="glyphicon glyphicon-remove"></i></a>
                        </div>
                    </header>

                    <div class="widget-table-overflow">
                        <table class="table table-striped table-sm">

                            <tbody>
                            <tr>
                                <td>
                                    <div class="checkbox">
                                        <input id="checkbox212" type="checkbox">
                                        <label for="checkbox212"></label>
                                    </div>
                                </td>
                                <td>Extremo AYER </td>
                                <td class="text-align-right fw-semi-bold">2,757</td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="checkbox">
                                        <input id="checkbox214" type="checkbox">
                                        <label for="checkbox214"></label>
                                    </div>
                                </td>
                                <td>Extremo DIAN</td>
                                <td class="text-align-right fw-semi-bold">{{ selected.Avg_xda_llamadas}}}</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="widget-body mt-xlg">
                        <div id="rickshaw" class="chart-overflow-bottom"></div>
                    </div>
                </section>
            </div>
        </div>
    </div>
</div>
    </main>
  {% endverbatim %}

{%  endblock    %}


